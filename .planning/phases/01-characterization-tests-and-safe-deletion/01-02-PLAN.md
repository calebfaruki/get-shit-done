---
phase: 01-characterization-tests-and-safe-deletion
plan: 02
type: execute
wave: 2
depends_on:
  - "01-01"
requirements: [CLN-01, CLN-02, CLN-03, STATE-04]
files_modified:
  - get-shit-done/bin/lib/config.cjs
  - get-shit-done/bin/lib/core.cjs
  - get-shit-done/bin/lib/init.cjs
  - get-shit-done/bin/lib/state.cjs
  - get-shit-done/bin/lib/verify.cjs
  - get-shit-done/bin/gsd-tools.cjs
  - get-shit-done/bin/lib/milestone.cjs
  - commands/gsd/settings.md
  - commands/gsd/set-profile.md
  - get-shit-done/workflows/settings.md
  - get-shit-done/workflows/set-profile.md
  - get-shit-done/references/checkpoints.md
  - get-shit-done/references/continuation-format.md
  - get-shit-done/references/decimal-phase-calculation.md
  - get-shit-done/references/git-integration.md
  - get-shit-done/references/git-planning-commit.md
  - get-shit-done/references/planning-config.md
  - get-shit-done/templates/config.json
  - get-shit-done/templates/continue-here.md
  - get-shit-done/templates/milestone.md
  - get-shit-done/templates/milestone-archive.md
  - get-shit-done/templates/project.md
  - get-shit-done/templates/requirements.md
  - get-shit-done/templates/roadmap.md
  - get-shit-done/templates/state.md
  - tests/deletion-safety.test.cjs
autonomous: true
requirements:
  - CLN-01
  - CLN-02
  - CLN-03
  - STATE-04

must_haves:
  truths:
    - "config.json template and all code paths reading/writing config.json are removed"
    - "All dead references, templates, commands, and library files are deleted"
    - "Existing test suite passes after all deletions"
    - "Installation still works for Claude Code after cleanup (CLN-03 partial: Claude Code only in Phase 1, full cross-platform verification deferred to Phase 7 per user decision)"
    - "Core workflows (plan-phase, execute-phase, discuss-phase) function correctly"
  artifacts:
    - path: "get-shit-done/bin/lib/core.cjs"
      provides: "Core utilities with config.json references removed"
    - path: "get-shit-done/bin/gsd-tools.cjs"
      provides: "CLI tool with config command routing removed"
  key_links:
    - from: "get-shit-done/bin/gsd-tools.cjs"
      to: "get-shit-done/bin/lib/core.cjs"
      via: "require('./lib/core.cjs')"
      pattern: "require.*core"
    - from: "get-shit-done/bin/lib/init.cjs"
      to: "get-shit-done/bin/lib/core.cjs"
      via: "config loading functions"
      pattern: "loadConfig|getConfig"
---

<objective>
Remove config.json infrastructure (template + all code paths that read/write it), delete remaining dead files (references, templates, settings/set-profile commands, milestone library), and verify installation + workflow functionality after cleanup. This completes the ~55 file deletion target.

Purpose: Fully clean the codebase of dead GSD artifacts while maintaining working installation and test suite.
Output: Working tree with all ~55 dead files removed and code paths cleaned.
</objective>

<execution_context>
@/Users/calebfaruki/.claude/get-shit-done/workflows/execute-plan.md
@/Users/calebfaruki/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-characterization-tests-and-safe-deletion/01-CONTEXT.md
@.planning/phases/01-characterization-tests-and-safe-deletion/01-RESEARCH.md
@.planning/phases/01-characterization-tests-and-safe-deletion/01-01-SUMMARY.md
@get-shit-done/bin/lib/config.cjs
@get-shit-done/bin/lib/core.cjs
@get-shit-done/bin/lib/init.cjs
@get-shit-done/bin/lib/state.cjs
@get-shit-done/bin/gsd-tools.cjs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove config.json code paths and delete config infrastructure</name>
  <files>
get-shit-done/bin/lib/config.cjs
get-shit-done/bin/lib/core.cjs
get-shit-done/bin/lib/init.cjs
get-shit-done/bin/lib/state.cjs
get-shit-done/bin/lib/verify.cjs
get-shit-done/bin/gsd-tools.cjs
get-shit-done/templates/config.json
get-shit-done/references/planning-config.md
commands/gsd/settings.md
commands/gsd/set-profile.md
get-shit-done/workflows/settings.md
get-shit-done/workflows/set-profile.md
  </files>
  <action>
This is the highest-risk wave. Remove config.json infrastructure completely per user decision: "no stubs, no defaults, just delete."

**Step 1: Trace all config.json code paths.**
Use Grep to find every reference to `config.json`, `config.cjs`, `loadConfig`, `getConfig`, `saveConfig`, `CONFIG_FILE`, `planning_config` across the codebase. Map each reference to understand what depends on it.

**Step 2: Delete `get-shit-done/bin/lib/config.cjs` entirely.**
This is the config CRUD module. It's dead — the fork eliminates config.json.

**Step 3: Remove config references from `core.cjs`.**
Find and remove: `loadConfig`, `getConfig`, `saveConfig`, any config-related exports. Functions that call config functions need their config dependency removed. If a function ONLY reads config, remove the config read and replace with hardcoded defaults or remove the function. If a function does other work AND reads config, remove just the config read portion.

Key patterns to look for in core.cjs:
- `require('./config.cjs')` or similar — remove the require
- `loadConfig()` calls — remove or replace with sensible defaults
- `config.workflow.*` reads — the workflow config controlled things like `auto_advance`, `research`, `git` strategy. Remove these; the fork doesn't have config-driven behavior.
- Model resolution: `resolve-model` uses config for model profiles. The MODEL_PROFILES table in core.cjs should be kept (it's needed in Phase 2) but config-based profile selection can be simplified to use defaults directly.

**Step 4: Remove config references from `init.cjs`.**
Init commands bootstrap workflow context. Remove any `loadConfig` or `readConfig` calls. If init returns config data in its JSON output, remove those fields OR replace with hardcoded defaults that downstream consumers expect.

Be careful: `init plan-phase`, `init execute-phase` etc. return JSON consumed by agents. Check what fields agents actually read. Remove config fields that no surviving agent reads.

**Step 5: Remove config references from `state.cjs`.**
State operations may read config for workflow behavior. Remove config reads; state should only depend on STATE.md and ROADMAP.md.

**Step 6: Remove config references from `verify.cjs`.**
Verification may check config consistency. Remove those checks since config.json no longer exists.

**Step 7: Remove config command routing from `gsd-tools.cjs`.**
The main CLI dispatches `config get`, `config set`, `config delete` etc. Remove the config command group entirely.

**Step 8: Delete dead files.**
- `get-shit-done/templates/config.json` (template)
- `get-shit-done/references/planning-config.md` (reference doc)
- `commands/gsd/settings.md` (command — reads/writes config)
- `commands/gsd/set-profile.md` (command — writes config profiles)
- `get-shit-done/workflows/settings.md` (workflow)
- `get-shit-done/workflows/set-profile.md` (workflow)

**Step 9: Run full test suite.**
Run `npm test`. Some tests in existing files may fail because they test config operations. For each failure:
- If the test validates config CRUD behavior → delete the test (config is gone)
- If the test validates non-config behavior that happened to use config as setup → fix the test to work without config
- If the test validates something that genuinely broke → investigate and fix the code

Run `node --test tests/deletion-safety.test.cjs` to confirm characterization tests still pass.
  </action>
  <verify>Run `npm test` — all tests pass (0 failures). Run `node --test tests/deletion-safety.test.cjs` — all pass. Run `grep -r "config\.json" get-shit-done/bin/lib/` — no matches (or only comments explaining removal). Verify `config.cjs` no longer exists.</verify>
  <done>config.json template deleted. config.cjs deleted. All code paths reading/writing config.json removed from core.cjs, init.cjs, state.cjs, verify.cjs, gsd-tools.cjs. settings and set-profile commands deleted. All tests pass.</done>
</task>

<task type="auto">
  <name>Task 2: Delete remaining dead files and verify installation</name>
  <files>
get-shit-done/bin/lib/milestone.cjs
get-shit-done/references/checkpoints.md
get-shit-done/references/continuation-format.md
get-shit-done/references/decimal-phase-calculation.md
get-shit-done/references/git-integration.md
get-shit-done/references/git-planning-commit.md
get-shit-done/templates/continue-here.md
get-shit-done/templates/milestone.md
get-shit-done/templates/milestone-archive.md
get-shit-done/templates/project.md
get-shit-done/templates/requirements.md
get-shit-done/templates/roadmap.md
get-shit-done/templates/state.md
tests/deletion-safety.test.cjs
  </files>
  <action>
**Wave 5: Dead references (5 files)**
Delete references that document removed features:
- `get-shit-done/references/checkpoints.md` (checkpoints removed)
- `get-shit-done/references/continuation-format.md` (continuation removed)
- `get-shit-done/references/decimal-phase-calculation.md` (decimal phases removed)
- `get-shit-done/references/git-integration.md` (git integration removed)
- `get-shit-done/references/git-planning-commit.md` (git planning commits removed)

Run `npm test` + `node --test tests/deletion-safety.test.cjs` — all pass.

**Wave 6: Dead templates + milestone library (8 files)**
Delete templates for removed features:
- `get-shit-done/templates/continue-here.md` (continuation removed)
- `get-shit-done/templates/milestone.md` (milestones removed)
- `get-shit-done/templates/milestone-archive.md` (milestones removed)
- `get-shit-done/templates/project.md` (GSD's project template — fork uses different format)
- `get-shit-done/templates/requirements.md` (persistent requirements removed)
- `get-shit-done/templates/roadmap.md` (roadmap template removed)
- `get-shit-done/templates/state.md` (state template removed)

Delete milestone library:
- `get-shit-done/bin/lib/milestone.cjs`

Before deleting milestone.cjs, check: `grep -r "milestone" get-shit-done/bin/lib/ --include="*.cjs"` to find any remaining imports. Remove `require('./milestone.cjs')` from any file that imports it (likely gsd-tools.cjs command routing). If `milestone.test.cjs` exists and tests milestone operations, either delete the test file or remove milestone-specific tests from it.

Run `npm test` + `node --test tests/deletion-safety.test.cjs` — all pass.

**Wave 7: Final validation**
Run a full workflow smoke test to verify installation still works for Claude Code:
1. Run `npm test` — full suite passes
2. Run `node --test tests/deletion-safety.test.cjs` — characterization tests pass
3. Run `node get-shit-done/bin/gsd-tools.cjs init plan-phase "test-phase"` in a temp project — returns valid JSON (proves the tool still bootstraps correctly)
4. Run `node get-shit-done/bin/gsd-tools.cjs phases list` in a temp project with a ROADMAP.md — returns phase list
5. Verify `bin/install.js` still exists and can be invoked: `node bin/install.js --help` (or `--dry-run` if supported)

Update `tests/deletion-safety.test.cjs` to add a final "post-cleanup" test that verifies the tool bootstraps correctly after all deletions.

Count total deleted files across both plans to confirm ~55 target is met.
  </action>
  <verify>Run `npm test` — all tests pass (0 failures). Run `node --test tests/deletion-safety.test.cjs` — all pass. Run `node get-shit-done/bin/gsd-tools.cjs --help` — tool runs without errors. Count deleted files across both plans confirms ~55.</verify>
  <done>All ~55 dead files deleted. milestone.cjs deleted. Dead references and templates deleted. Full test suite passes. Installation bootstraps correctly. Characterization tests confirm core workflows are functional.</done>
</task>

</tasks>

<verification>
- `npm test` passes with 0 failures
- `node --test tests/deletion-safety.test.cjs` passes with 0 failures
- `grep -r "config\.json" get-shit-done/bin/lib/` returns no results (except comments)
- `ls get-shit-done/bin/lib/config.cjs 2>&1` returns "No such file"
- `ls get-shit-done/bin/lib/milestone.cjs 2>&1` returns "No such file"
- `node get-shit-done/bin/gsd-tools.cjs init plan-phase "test"` returns valid JSON
- `node bin/install.js --help` runs without errors
- Total deleted files across plan 01 and plan 02 is approximately 55
</verification>

<success_criteria>
config.json infrastructure fully removed (template, library, code paths, commands). All remaining dead files deleted. ~55 total files removed across both plans. Full test suite passes. Installation works for Claude Code. Core workflows function correctly.
</success_criteria>

<output>
After completion, create `.planning/phases/01-characterization-tests-and-safe-deletion/01-02-SUMMARY.md`
</output>
